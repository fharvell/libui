#!/usr/bin/env libui
#####
#
#	{title} - {brief}
#
#	{user} - {timestamp}
#
#####
#
# {description}
#
#####
#
# {header}
#
#####

##### libui setup

# script version
Version -r {required} {version}

# load mods
{modules}

##### configuration

# defaults
retval=0
GetTmp tmpdir

##### options - libui already uses options C, F, H, h, N, P, Q, V, X:, Y

AddOption -n showstatus -c StatusCallback -f -k 'Show Opts' -d 'Show the demo status (i.e. verbosity level).' s

##### callbacks

# status callback
statuslevel=0
StatusCallback () {
  Trace 'Increment status level.'
  ((statuslevel++))
}

# usage information callback
InfoCallback () {
  Trace 'In user info callback.'

  # <additional script information here>
  cat << EOF
{description}
EOF
}

# exit callback
ExitCallback () {
  Trace 'In user exit callback.'

  Trace 'Exit cleanup.'
  # <exit cleanup actions here>
}

# initialization callback
InitCallback () {
  Trace 'In user init callback.'

  Trace 'Startup confirmation.'
  # <startup confirmation actions here>
}

##### functions

# <support functions here>

##### initialization

# initialize UI
Initialize


#####
#
# main program
#
#####

Trace 'Start %s. (%s)' "${CMD}" "${CMDLINE}"

## <start demo content>

Trace 'Check for show status. (%s)' "${showstatus}"
if ${showstatus}
then
  Tell 'Status level is: %s' "${statuslevel}"
fi

if Verify 'Exit with success?'
then
  Tell 'Returning success.'
  retval=0
else
  Tell 'Returning error.'
  retval=1
fi

## <end demo content>

Trace 'Exit %s. (%s)' "${CMD}" "${retval}"
Exit "${retval}"
