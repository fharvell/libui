#!/usr/bin/env libui
#####
#
# test_OctalToPerms
#
#####

test_OctalToPerms () {
  local expected="--------t
-----s---
--s------
---------
--------x
-------w-
-------wx
------r--
------r-x
------rw-
------rwx
-----x---
-----x--x
-----x-w-
-----x-wx
-----xr--
-----xr-x
-----xrw-
-----xrwx
----w----
----w---x
----w--w-
----w--wx
----w-r--
----w-r-x
----w-rw-
----w-rwx
----wx---
----wx--x
----wx-w-
----wx-wx
----wxr--
----wxr-x
----wxrw-
----wxrwx
---r-----
---r----x
---r---w-
---r---wx
---r--r--
---r--r-x
---r--rw-
---r--rwx
---r-x---
---r-x--x
---r-x-w-
---r-x-wx
---r-xr--
---r-xr-x
---r-xrw-
---r-xrwx
---rw----
---rw---x
---rw--w-
---rw--wx
---rw-r--
---rw-r-x
---rw-rw-
---rw-rwx
---rwx---
---rwx--x
---rwx-w-
---rwx-wx
---rwxr--
---rwxr-x
---rwxrw-
---rwxrwx
--x------
--x-----x
--x----w-
--x----wx
--x---r--
--x---r-x
--x---rw-
--x---rwx
--x--x---
--x--x--x
--x--x-w-
--x--x-wx
--x--xr--
--x--xr-x
--x--xrw-
--x--xrwx
--x-w----
--x-w---x
--x-w--w-
--x-w--wx
--x-w-r--
--x-w-r-x
--x-w-rw-
--x-w-rwx
--x-wx---
--x-wx--x
--x-wx-w-
--x-wx-wx
--x-wxr--
--x-wxr-x
--x-wxrw-
--x-wxrwx
--xr-----
--xr----x
--xr---w-
--xr---wx
--xr--r--
--xr--r-x
--xr--rw-
--xr--rwx
--xr-x---
--xr-x--x
--xr-x-w-
--xr-x-wx
--xr-xr--
--xr-xr-x
--xr-xrw-
--xr-xrwx
--xrw----
--xrw---x
--xrw--w-
--xrw--wx
--xrw-r--
--xrw-r-x
--xrw-rw-
--xrw-rwx
--xrwx---
--xrwx--x
--xrwx-w-
--xrwx-wx
--xrwxr--
--xrwxr-x
--xrwxrw-
--xrwxrwx
-w-------
-w------x
-w-----w-
-w-----wx
-w----r--
-w----r-x
-w----rw-
-w----rwx
-w---x---
-w---x--x
-w---x-w-
-w---x-wx
-w---xr--
-w---xr-x
-w---xrw-
-w---xrwx
-w--w----
-w--w---x
-w--w--w-
-w--w--wx
-w--w-r--
-w--w-r-x
-w--w-rw-
-w--w-rwx
-w--wx---
-w--wx--x
-w--wx-w-
-w--wx-wx
-w--wxr--
-w--wxr-x
-w--wxrw-
-w--wxrwx
-w-r-----
-w-r----x
-w-r---w-
-w-r---wx
-w-r--r--
-w-r--r-x
-w-r--rw-
-w-r--rwx
-w-r-x---
-w-r-x--x
-w-r-x-w-
-w-r-x-wx
-w-r-xr--
-w-r-xr-x
-w-r-xrw-
-w-r-xrwx
-w-rw----
-w-rw---x
-w-rw--w-
-w-rw--wx
-w-rw-r--
-w-rw-r-x
-w-rw-rw-
-w-rw-rwx
-w-rwx---
-w-rwx--x
-w-rwx-w-
-w-rwx-wx
-w-rwxr--
-w-rwxr-x
-w-rwxrw-
-w-rwxrwx
-wx------
-wx-----x
-wx----w-
-wx----wx
-wx---r--
-wx---r-x
-wx---rw-
-wx---rwx
-wx--x---
-wx--x--x
-wx--x-w-
-wx--x-wx
-wx--xr--
-wx--xr-x
-wx--xrw-
-wx--xrwx
-wx-w----
-wx-w---x
-wx-w--w-
-wx-w--wx
-wx-w-r--
-wx-w-r-x
-wx-w-rw-
-wx-w-rwx
-wx-wx---
-wx-wx--x
-wx-wx-w-
-wx-wx-wx
-wx-wxr--
-wx-wxr-x
-wx-wxrw-
-wx-wxrwx
-wxr-----
-wxr----x
-wxr---w-
-wxr---wx
-wxr--r--
-wxr--r-x
-wxr--rw-
-wxr--rwx
-wxr-x---
-wxr-x--x
-wxr-x-w-
-wxr-x-wx
-wxr-xr--
-wxr-xr-x
-wxr-xrw-
-wxr-xrwx
-wxrw----
-wxrw---x
-wxrw--w-
-wxrw--wx
-wxrw-r--
-wxrw-r-x
-wxrw-rw-
-wxrw-rwx
-wxrwx---
-wxrwx--x
-wxrwx-w-
-wxrwx-wx
-wxrwxr--
-wxrwxr-x
-wxrwxrw-
-wxrwxrwx
r--------
r-------x
r------w-
r------wx
r-----r--
r-----r-x
r-----rw-
r-----rwx
r----x---
r----x--x
r----x-w-
r----x-wx
r----xr--
r----xr-x
r----xrw-
r----xrwx
r---w----
r---w---x
r---w--w-
r---w--wx
r---w-r--
r---w-r-x
r---w-rw-
r---w-rwx
r---wx---
r---wx--x
r---wx-w-
r---wx-wx
r---wxr--
r---wxr-x
r---wxrw-
r---wxrwx
r--r-----
r--r----x
r--r---w-
r--r---wx
r--r--r--
r--r--r-x
r--r--rw-
r--r--rwx
r--r-x---
r--r-x--x
r--r-x-w-
r--r-x-wx
r--r-xr--
r--r-xr-x
r--r-xrw-
r--r-xrwx
r--rw----
r--rw---x
r--rw--w-
r--rw--wx
r--rw-r--
r--rw-r-x
r--rw-rw-
r--rw-rwx
r--rwx---
r--rwx--x
r--rwx-w-
r--rwx-wx
r--rwxr--
r--rwxr-x
r--rwxrw-
r--rwxrwx
r-x------
r-x-----x
r-x----w-
r-x----wx
r-x---r--
r-x---r-x
r-x---rw-
r-x---rwx
r-x--x---
r-x--x--x
r-x--x-w-
r-x--x-wx
r-x--xr--
r-x--xr-x
r-x--xrw-
r-x--xrwx
r-x-w----
r-x-w---x
r-x-w--w-
r-x-w--wx
r-x-w-r--
r-x-w-r-x
r-x-w-rw-
r-x-w-rwx
r-x-wx---
r-x-wx--x
r-x-wx-w-
r-x-wx-wx
r-x-wxr--
r-x-wxr-x
r-x-wxrw-
r-x-wxrwx
r-xr-----
r-xr----x
r-xr---w-
r-xr---wx
r-xr--r--
r-xr--r-x
r-xr--rw-
r-xr--rwx
r-xr-x---
r-xr-x--x
r-xr-x-w-
r-xr-x-wx
r-xr-xr--
r-xr-xr-x
r-xr-xrw-
r-xr-xrwx
r-xrw----
r-xrw---x
r-xrw--w-
r-xrw--wx
r-xrw-r--
r-xrw-r-x
r-xrw-rw-
r-xrw-rwx
r-xrwx---
r-xrwx--x
r-xrwx-w-
r-xrwx-wx
r-xrwxr--
r-xrwxr-x
r-xrwxrw-
r-xrwxrwx
rw-------
rw------x
rw-----w-
rw-----wx
rw----r--
rw----r-x
rw----rw-
rw----rwx
rw---x---
rw---x--x
rw---x-w-
rw---x-wx
rw---xr--
rw---xr-x
rw---xrw-
rw---xrwx
rw--w----
rw--w---x
rw--w--w-
rw--w--wx
rw--w-r--
rw--w-r-x
rw--w-rw-
rw--w-rwx
rw--wx---
rw--wx--x
rw--wx-w-
rw--wx-wx
rw--wxr--
rw--wxr-x
rw--wxrw-
rw--wxrwx
rw-r-----
rw-r----x
rw-r---w-
rw-r---wx
rw-r--r--
rw-r--r-x
rw-r--rw-
rw-r--rwx
rw-r-x---
rw-r-x--x
rw-r-x-w-
rw-r-x-wx
rw-r-xr--
rw-r-xr-x
rw-r-xrw-
rw-r-xrwx
rw-rw----
rw-rw---x
rw-rw--w-
rw-rw--wx
rw-rw-r--
rw-rw-r-x
rw-rw-rw-
rw-rw-rwx
rw-rwx---
rw-rwx--x
rw-rwx-w-
rw-rwx-wx
rw-rwxr--
rw-rwxr-x
rw-rwxrw-
rw-rwxrwx
rwx------
rwx-----x
rwx----w-
rwx----wx
rwx---r--
rwx---r-x
rwx---rw-
rwx---rwx
rwx--x---
rwx--x--x
rwx--x-w-
rwx--x-wx
rwx--xr--
rwx--xr-x
rwx--xrw-
rwx--xrwx
rwx-w----
rwx-w---x
rwx-w--w-
rwx-w--wx
rwx-w-r--
rwx-w-r-x
rwx-w-rw-
rwx-w-rwx
rwx-wx---
rwx-wx--x
rwx-wx-w-
rwx-wx-wx
rwx-wxr--
rwx-wxr-x
rwx-wxrw-
rwx-wxrwx
rwxr-----
rwxr----x
rwxr---w-
rwxr---wx
rwxr--r--
rwxr--r-x
rwxr--rw-
rwxr--rwx
rwxr-x---
rwxr-x--x
rwxr-x-w-
rwxr-x-wx
rwxr-xr--
rwxr-xr-x
rwxr-xrw-
rwxr-xrwx
rwxrw----
rwxrw---x
rwxrw--w-
rwxrw--wx
rwxrw-r--
rwxrw-r-x
rwxrw-rw-
rwxrw-rwx
rwxrwx---
rwxrwx--x
rwxrwx-w-
rwxrwx-wx
rwxrwxr--
rwxrwxr-x
rwxrwxrw-
rwxrwxrwx"
  LoadMod Convert
  local perms
  local results; results=( )
  perms='1001'; OctalToPerms perms; results+=( "${perms}" );
  perms='2010'; OctalToPerms perms; results+=( "${perms}" );
  perms='4100'; OctalToPerms perms; results+=( "${perms}" );
  local x
  for x in {0..511}
  do
    perms="$(printf '%03o' "${x}")"
    OctalToPerms perms
    results+=( "${perms}" )
  done
  LibuiPerformTest 'printf "%s\n" "${results[@]}"'
  LibuiValidateTest ${?} 0 "${expected}"
  return ${?}
}

return 0
